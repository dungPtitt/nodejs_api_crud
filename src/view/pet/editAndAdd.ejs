<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title>edit and add pet</title>
    <script>
      function checker(e) {
        let name = document.getElementsByName("name")[0].value;
        let dob = document.getElementsByName("dob")[0].value;
        let race = document.getElementsByName("race")[0].value;

        if (name != "" && dob != "" && race != "") {
          if (window.confirm("Are you sure")) {
            document.getElementById("edit-add-form").submit();
          } else {
            e.preventDefault();
          }
        }
      }
    </script>
  </head>
  <body>
    <div class="container">
      <form
        action="<% if(idPet != -1){ %>
      update-pet
      <%} else { %>
      create-pet
      <% } %>"
        method="POST"
        id="edit-add-form"
      >
        <% if (idPet != -1) { %>
        <p>Edit Pet</p>
        <%} else { %>
        <p>Add Pet</p>
        <% } %>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputEmail4">Name</label>
            <input
              type="text"
              class="form-control"
              name="name"
              placeholder="Pet's name"
              value="<%= data.name %>"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Date of birth</label>
            <input
              type="date"
              class="form-control"
              name="dob"
              placeholder="Pet's dob"
              value="<%= data.dob %>"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Race</label>
            <input
              type="text"
              class="form-control"
              name="race"
              placeholder="Pet's race"
              value="<%= data.race %>"
              required
            />
          </div>
          <div class="form-group col-md-6">
            <label for="inputPassword4">Vaccinated</label>
            <input id="vaccinated" value="1" type="checkbox" name="vaccinated"
            <%= data.vaccinated==1 ? "checked" : "" %> />
          </div>
        </div>
        <input type="text" name="id" value="<%= data.id %>" hidden />
        <div class="form-group mt-3">
          <button
            class="btn btn-primary"
            form="edit-add-form"
            onclick="checker(event)"
          >
            <% if(idPet!=-1){ %> Update Pet <% } else{ %> Create Pet <% } %>
          </button>
        </div>
      </form>
    </div>
  </body>
</html>
